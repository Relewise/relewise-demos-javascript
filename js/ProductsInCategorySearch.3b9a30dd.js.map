{"version":3,"file":"js/ProductsInCategorySearch.3b9a30dd.js","mappings":"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","sources":["webpack://relewise-demo/./node_modules/vue-loader/dist/exportHelper.js","webpack://relewise-demo/./node_modules/@heroicons/vue/24/solid/esm/BarsArrowUpIcon.js","webpack://relewise-demo/./node_modules/@heroicons/vue/24/solid/esm/BarsArrowDownIcon.js","webpack://relewise-demo/./src/components/Products.vue?c314","webpack://relewise-demo/./src/components/Products.vue","webpack://relewise-demo/./src/views/ProductsInCategorySearch.vue?77cf","webpack://relewise-demo/./src/views/ProductsInCategorySearch.vue"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.25 4.5A.75.75 0 013 3.75h14.25a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zm14.47 3.97a.75.75 0 011.06 0l3.75 3.75a.75.75 0 11-1.06 1.06L18 10.81V21a.75.75 0 01-1.5 0V10.81l-2.47 2.47a.75.75 0 11-1.06-1.06l3.75-3.75zM2.25 9A.75.75 0 013 8.25h9.75a.75.75 0 010 1.5H3A.75.75 0 012.25 9zm0 4.5a.75.75 0 01.75-.75h5.25a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.25 4.5A.75.75 0 013 3.75h14.25a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zm0 4.5A.75.75 0 013 8.25h9.75a.75.75 0 010 1.5H3A.75.75 0 012.25 9zm15-.75A.75.75 0 0118 9v10.19l2.47-2.47a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 111.06-1.06l2.47 2.47V9a.75.75 0 01.75-.75zm-15 5.25a.75.75 0 01.75-.75h9.75a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, Transition as _Transition, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e82cbfd0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = { class: \"block text-gray-500\" }\nconst _hoisted_3 = { class: \"text-xs\" }\nconst _hoisted_4 = { class: \"flex gap-2 items-center\" }\nconst _hoisted_5 = { class: \"text-xs font-semibold\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"line-through text-gray-500 mr-2\"\n}\nconst _hoisted_7 = {\n  key: 0,\n  class: \"bg-gray-100 text-gray-700 text-sm p-3 my-3\"\n}\n\nimport contextStore from '@/stores/context.store';\nimport { ProductResult } from '@relewise/client';\nimport { PropType, toRefs, ref } from 'vue';\nimport { BarsArrowDownIcon, BarsArrowUpIcon } from '@heroicons/vue/24/solid'; \n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Products',\n  props: {products: { type: Array as PropType<ProductResult[]>} },\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst context = contextStore.context;\nconst showDetails = ref<string | null | undefined>(null);\n\nconst { products } = toRefs(props);\n\nfunction toggleDetails(product: ProductResult) {\n\n    if (showDetails.value === product.productId) {\n        showDetails.value = null;\n    }\n    else {\n        showDetails.value = product.productId; \n    }\n}\n\nfunction prettyJson(product: ProductResult) {\n    return JSON.stringify(product, undefined, 4);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(products), (product) => {\n    return (_openBlock(), _createElementBlock(\"div\", {\n      key: product.productId!,\n      class: \"mb-1 pb-1 flex border-b border-solid border-gray-300\"\n    }, [\n      (product.data && _unref(context).imageUrlDataKey)\n        ? (_openBlock(), _createElementBlock(\"img\", {\n            key: 0,\n            height: \"75\",\n            width: \"75\",\n            src: product.data[_unref(context).imageUrlDataKey]?.value ?? '/512x512.png',\n            class: \"mr-3\"\n          }, null, 8, _hoisted_1))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"span\", _hoisted_2, [\n          _createTextVNode(_toDisplayString(product.productId) + \" \", 1),\n          _createElementVNode(\"span\", _hoisted_3, \"(Rank: \" + _toDisplayString(product.rank) + \")\", 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_router_link, {\n            to: { name: 'product', query: { id: product.productId } },\n            class: _normalizeClass(product.displayName ? '' : 'italic')\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(product.displayName ?? 'No DisplayName'), 1)\n            ]),\n            _: 2\n          }, 1032, [\"to\", \"class\"]),\n          (showDetails.value == product.productId)\n            ? (_openBlock(), _createBlock(_unref(BarsArrowUpIcon), {\n                key: 0,\n                onClick: ($event: any) => (toggleDetails(product)),\n                class: \"h-4 w-4 text-gray-500 inline-block cursor-pointer\"\n              }, null, 8, [\"onClick\"]))\n            : (_openBlock(), _createBlock(_unref(BarsArrowDownIcon), {\n                key: 1,\n                onClick: ($event: any) => (toggleDetails(product)),\n                class: \"h-4 w-4 text-gray-500 inline-block cursor-pointer\"\n              }, null, 8, [\"onClick\"]))\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          (product.salesPrice !== product.listPrice)\n            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(_ctx.$format(product.listPrice)), 1))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"span\", null, _toDisplayString(_ctx.$format(product.salesPrice)), 1)\n        ]),\n        _createVNode(_Transition, null, {\n          default: _withCtx(() => [\n            (showDetails.value == product.productId)\n              ? (_openBlock(), _createElementBlock(\"pre\", _hoisted_7, _toDisplayString(prettyJson(product)), 1))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 2\n        }, 1024)\n      ])\n    ]))\n  }), 128))\n}\n}\n\n})","import script from \"./Products.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Products.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Products.vue?vue&type=style&index=0&id=e82cbfd0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/relewise-demos-javascript/relewise-demos-javascript/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e82cbfd0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"search\" }\nconst _hoisted_2 = { class: \"mb-5\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: null,\n  disabled: \"\"\n}, \"Choose a category\", -1)\nconst _hoisted_4 = [\"value\"]\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = { class: \"text-xl font-semibold mb-2\" }\n\nimport { CategoryFacetResult, CategoryNameAndIdResultAvailableFacetValue, ProductSearchBuilder, ProductSearchResponse } from '@relewise/client';\nimport { ref, Ref } from 'vue';\nimport Products from '@/components/Products.vue';\nimport contextStore from '@/stores/context.store';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProductsInCategorySearch',\n  setup(__props) {\n\nconst result = ref<ProductSearchResponse | null>(null);\nconst categories: Ref<CategoryFacetResult|null> = ref<CategoryFacetResult|null>(null);\nconst category: Ref<CategoryNameAndIdResultAvailableFacetValue|null> = ref<CategoryNameAndIdResultAvailableFacetValue|null>(null);\n\nconst searcher = contextStore.getSearcher();\n\ninit();\n\nasync function search() {\n\n    const categoryId = category.value?.value?.id;\n    if (!categoryId) return;\n\n    const request = new ProductSearchBuilder(contextStore.defaultSettings)\n        .setSelectedProductProperties(contextStore.selectedProductProperties)\n        .setSelectedVariantProperties({allData: true, displayName: true})\n        .pagination(p => p.setPageSize(30))\n        .filters(f => f.addProductCategoryIdFilter('ImmediateParent', [categoryId]))\n        .build();\n\n    const response = await searcher.searchProducts(request);\n    contextStore.assertApiCall(response);\n\n    if (response) {\n        result.value = response;   \n    }\n}\n\nasync function init() {\n    const request = new ProductSearchBuilder(contextStore.defaultSettings)\n        .setSelectedProductProperties(contextStore.selectedProductProperties)\n        .setSelectedVariantProperties({allData: true, displayName: true})\n        .facets(f => f.addCategoryFacet('ImmediateParent'))\n        .pagination(p => p.setPageSize(30))\n        .build();\n\n    const response = await searcher.searchProducts(request);\n    contextStore.assertApiCall(response);\n\n    if (response?.facets?.items && response?.facets?.items[0]) {\n        const categoryFacet = response?.facets?.items![0] as CategoryFacetResult;\n        categoryFacet.available = categoryFacet.available?.sort((a, b) => categoryDisplayValue(a).localeCompare(categoryDisplayValue(b)) ?? 0);\n        categories.value = categoryFacet;\n    }\n}\n\nfunction categoryDisplayValue(category: CategoryNameAndIdResultAvailableFacetValue) {\n    return category.value?.displayName ?? category.value?.id ?? '';\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (categories.value)\n        ? _withDirectives((_openBlock(), _createElementBlock(\"select\", {\n            key: 0,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((category).value = $event)),\n            onChange: search\n          }, [\n            _hoisted_3,\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(categories.value.available, (category) => {\n              return (_openBlock(), _createElementBlock(\"option\", {\n                value: category,\n                key: category.value?.id ?? ''\n              }, _toDisplayString(categoryDisplayValue(category)) + \" (\" + _toDisplayString(category.hits) + \")\", 9, _hoisted_4))\n            }), 128))\n          ], 544)), [\n            [_vModelSelect, category.value]\n          ])\n        : _createCommentVNode(\"\", true)\n    ]),\n    (category.value && result.value && result.value?.results && result.value.results.length > 0)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createElementVNode(\"h2\", _hoisted_6, \"Showing results in '\" + _toDisplayString(categoryDisplayValue(category.value)) + \"' (\" + _toDisplayString(result.value.results.length) + \" of \" + _toDisplayString(result.value.hits) + \")\", 1),\n          _createVNode(Products, {\n            products: result.value?.results\n          }, null, 8, [\"products\"])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./ProductsInCategorySearch.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ProductsInCategorySearch.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","render","_ctx","_cache","_openBlock","_createElementBlock","xmlns","viewBox","fill","_createElementVNode","d","_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_defineComponent","__name","products","type","Array","setup","__props","context","contextStore","showDetails","ref","toRefs","toggleDetails","product","value","productId","prettyJson","JSON","stringify","undefined","_component_router_link","_resolveComponent","_Fragment","_renderList","_unref","data","imageUrlDataKey","height","width","src","_createCommentVNode","_createTextVNode","_toDisplayString","rank","_createVNode","to","name","query","id","_normalizeClass","displayName","default","_withCtx","_","_createBlock","BarsArrowUpIcon","onClick","$event","BarsArrowDownIcon","salesPrice","listPrice","$format","_Transition","__exports__","disabled","result","categories","category","searcher","async","search","categoryId","request","ProductSearchBuilder","setSelectedProductProperties","setSelectedVariantProperties","allData","pagination","p","setPageSize","filters","f","addProductCategoryIdFilter","build","response","searchProducts","init","facets","addCategoryFacet","items","categoryFacet","available","sort","a","b","categoryDisplayValue","localeCompare","_withDirectives","onChange","hits","_vModelSelect","results","length","Products"],"sourceRoot":""}
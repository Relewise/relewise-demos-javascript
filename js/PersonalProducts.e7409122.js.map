{"version":3,"file":"js/PersonalProducts.e7409122.js","mappings":"sOAGA,MAAMA,EAAa,CAAEC,MAAO,UACtBC,GAA0BC,EAAAA,EAAAA,GAAoB,KAAM,CAAEF,MAAO,QAAU,oCAAqC,GAC5GG,EAAa,CAAEC,IAAK,GACpBC,EAAa,CACjBD,IAAK,EACLJ,MAAO,uBAUT,OAA4BM,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,mBACRC,MAAMC,GAER,MAAMC,GAAUC,EAAAA,EAAAA,KAAa,GACvBC,GAAyDD,EAAAA,EAAAA,IAA+C,CAAC,GACzGE,EAAcC,EAAAA,EAAAA,iBAIpBC,eAAeC,IACX,IAAKF,EAAAA,EAAAA,cAAAA,MAAAA,kBAAqDA,EAAAA,EAAAA,cAAAA,MAAAA,YAItD,OAHAJ,EAAQO,OAAQ,OAChBL,EAAOK,WAAQC,GAKfR,EAAQO,OAAQ,EAGpB,MAAME,EAAU,IAAIC,EAAAA,qCAAqCN,EAAAA,EAAAA,iBACpDO,6BAA6BP,EAAAA,EAAAA,2BAC7BQ,2BAA2B,IAC3BC,QAECC,QAA0DX,EAAYY,0BAA0BN,GACtGL,EAAAA,EAAAA,cAA2BU,GAE3BZ,EAAOK,MAAQO,CACnB,CAtBAR,IAwBA,MAAMU,GAAqBC,EAAAA,EAAAA,KAAc,KACrCX,GAAW,GACZ,KAMH,OAJAY,EAAAA,EAAAA,IAAMd,EAAAA,EAAAA,cAAAA,OAAkC,KACpCY,GAAoB,GACrB,CAAEG,MAAM,IAEJ,CAACC,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOlC,EAAY,CAC3DE,EACCW,EAAOK,QACHe,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO9B,EAAY,EACpD+B,EAAAA,EAAAA,IAAaC,EAAAA,EAAU,CACrBC,SAAUxB,EAAOK,OAAOoB,iBAAmB,IAC1C,KAAM,EAAG,CAAC,iBAEfC,EAAAA,EAAAA,IAAoB,IAAI,GAC3B5B,EAAQO,QACJe,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO5B,EAAY,gDACtDiC,EAAAA,EAAAA,IAAoB,IAAI,KAGhC,ICtEA,MAAMC,EAAc,EAEpB,O","sources":["webpack://relewise-demo/./src/views/PersonalProducts.vue?723d","webpack://relewise-demo/./src/views/PersonalProducts.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"search\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"mb-5\" }, \"Personal Product Recommendations\", -1)\nconst _hoisted_3 = { key: 0 }\nconst _hoisted_4 = {\n  key: 1,\n  class: \"text-red-600 italic\"\n}\n\nimport { ref, Ref, watch } from 'vue';\nimport Products from '@/components/Products.vue';\nimport { PersonalProductRecommendationBuilder, ProductRecommendationResponse } from '@relewise/client';\nimport contextStore from '@/stores/context.store';\nimport { useDebounceFn } from '@vueuse/shared';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PersonalProducts',\n  setup(__props) {\n\nconst invalid = ref<boolean>(false);\nconst result: Ref<ProductRecommendationResponse | undefined> = ref<ProductRecommendationResponse | undefined>({} as ProductRecommendationResponse);\nconst recommender = contextStore.getRecommender();\n\nrecommend();\n\nasync function recommend() {\n    if (!contextStore.impersonation.value.authenticatedId && !contextStore.impersonation.value.temporaryId) {\n        invalid.value = true;\n        result.value = undefined;\n\n        return;\n    }\n    else {\n        invalid.value = false;\n    }\n\n    const request = new PersonalProductRecommendationBuilder(contextStore.defaultSettings)\n        .setSelectedProductProperties(contextStore.selectedProductProperties)\n        .setNumberOfRecommendations(30)\n        .build();\n\n    const response: ProductRecommendationResponse|undefined = await recommender.recommendPersonalProducts(request);\n    contextStore.assertApiCall(response);\n\n    result.value = response;\n}\n\nconst debouncedRecommond = useDebounceFn(() => {\n    recommend();\n}, 1000);\n\nwatch(contextStore.impersonation.value, () => {\n    debouncedRecommond();\n}, { deep: true });\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    (result.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n          _createVNode(Products, {\n            products: result.value?.recommendations ?? []\n          }, null, 8, [\"products\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (invalid.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \" Missing Authenticated Id or Temporary Id \"))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./PersonalProducts.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./PersonalProducts.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","key","_hoisted_4","_defineComponent","__name","setup","__props","invalid","ref","result","recommender","contextStore","async","recommend","value","undefined","request","PersonalProductRecommendationBuilder","setSelectedProductProperties","setNumberOfRecommendations","build","response","recommendPersonalProducts","debouncedRecommond","useDebounceFn","watch","deep","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","Products","products","recommendations","_createCommentVNode","__exports__"],"sourceRoot":""}
{"version":3,"file":"js/SearchTermBased.5c1909a1.js","mappings":"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","sources":["webpack://relewise-demo/./node_modules/vue-loader/dist/exportHelper.js","webpack://relewise-demo/./node_modules/@heroicons/vue/24/solid/esm/BarsArrowUpIcon.js","webpack://relewise-demo/./node_modules/@heroicons/vue/24/solid/esm/BarsArrowDownIcon.js","webpack://relewise-demo/./src/components/Products.vue?c314","webpack://relewise-demo/./src/components/Products.vue","webpack://relewise-demo/./src/views/SearchTermBased.vue?38da","webpack://relewise-demo/./src/views/SearchTermBased.vue"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.25 4.5A.75.75 0 013 3.75h14.25a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zm14.47 3.97a.75.75 0 011.06 0l3.75 3.75a.75.75 0 11-1.06 1.06L18 10.81V21a.75.75 0 01-1.5 0V10.81l-2.47 2.47a.75.75 0 11-1.06-1.06l3.75-3.75zM2.25 9A.75.75 0 013 8.25h9.75a.75.75 0 010 1.5H3A.75.75 0 012.25 9zm0 4.5a.75.75 0 01.75-.75h5.25a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.25 4.5A.75.75 0 013 3.75h14.25a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zm0 4.5A.75.75 0 013 8.25h9.75a.75.75 0 010 1.5H3A.75.75 0 012.25 9zm15-.75A.75.75 0 0118 9v10.19l2.47-2.47a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 111.06-1.06l2.47 2.47V9a.75.75 0 01.75-.75zm-15 5.25a.75.75 0 01.75-.75h9.75a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, Transition as _Transition, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e82cbfd0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = { class: \"block text-gray-500\" }\nconst _hoisted_3 = { class: \"text-xs\" }\nconst _hoisted_4 = { class: \"flex gap-2 items-center\" }\nconst _hoisted_5 = { class: \"text-xs font-semibold\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"line-through text-gray-500 mr-2\"\n}\nconst _hoisted_7 = {\n  key: 0,\n  class: \"bg-gray-100 text-gray-700 text-sm p-3 my-3\"\n}\n\nimport contextStore from '@/stores/context.store';\nimport { ProductResult } from '@relewise/client';\nimport { PropType, toRefs, ref } from 'vue';\nimport { BarsArrowDownIcon, BarsArrowUpIcon } from '@heroicons/vue/24/solid'; \n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Products',\n  props: {products: { type: Array as PropType<ProductResult[]>} },\n  setup(__props) {\n\nconst props = __props;\n\n\n\nconst context = contextStore.context;\nconst showDetails = ref<string | null | undefined>(null);\n\nconst { products } = toRefs(props);\n\nfunction toggleDetails(product: ProductResult) {\n\n    if (showDetails.value === product.productId) {\n        showDetails.value = null;\n    }\n    else {\n        showDetails.value = product.productId; \n    }\n}\n\nfunction prettyJson(product: ProductResult) {\n    return JSON.stringify(product, undefined, 4);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(products), (product) => {\n    return (_openBlock(), _createElementBlock(\"div\", {\n      key: product.productId!,\n      class: \"mb-1 pb-1 flex border-b border-solid border-gray-300\"\n    }, [\n      (product.data && _unref(context).imageUrlDataKey)\n        ? (_openBlock(), _createElementBlock(\"img\", {\n            key: 0,\n            height: \"75\",\n            width: \"75\",\n            src: product.data[_unref(context).imageUrlDataKey]?.value ?? '/512x512.png',\n            class: \"mr-3\"\n          }, null, 8, _hoisted_1))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"span\", _hoisted_2, [\n          _createTextVNode(_toDisplayString(product.productId) + \" \", 1),\n          _createElementVNode(\"span\", _hoisted_3, \"(Rank: \" + _toDisplayString(product.rank) + \")\", 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_router_link, {\n            to: { name: 'product', query: { id: product.productId } },\n            class: _normalizeClass(product.displayName ? '' : 'italic')\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(product.displayName ?? 'No DisplayName'), 1)\n            ]),\n            _: 2\n          }, 1032, [\"to\", \"class\"]),\n          (showDetails.value == product.productId)\n            ? (_openBlock(), _createBlock(_unref(BarsArrowUpIcon), {\n                key: 0,\n                onClick: ($event: any) => (toggleDetails(product)),\n                class: \"h-4 w-4 text-gray-500 inline-block cursor-pointer\"\n              }, null, 8, [\"onClick\"]))\n            : (_openBlock(), _createBlock(_unref(BarsArrowDownIcon), {\n                key: 1,\n                onClick: ($event: any) => (toggleDetails(product)),\n                class: \"h-4 w-4 text-gray-500 inline-block cursor-pointer\"\n              }, null, 8, [\"onClick\"]))\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          (product.salesPrice !== product.listPrice)\n            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(_ctx.$format(product.listPrice)), 1))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"span\", null, _toDisplayString(_ctx.$format(product.salesPrice)), 1)\n        ]),\n        _createVNode(_Transition, null, {\n          default: _withCtx(() => [\n            (showDetails.value == product.productId)\n              ? (_openBlock(), _createElementBlock(\"pre\", _hoisted_7, _toDisplayString(prettyJson(product)), 1))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 2\n        }, 1024)\n      ])\n    ]))\n  }), 128))\n}\n}\n\n})","import script from \"./Products.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Products.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Products.vue?vue&type=style&index=0&id=e82cbfd0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/relewise-demos-javascript/relewise-demos-javascript/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e82cbfd0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"search\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"text-2xl font-semibold mb-5\" }, \"Search Term Based\", -1)\nconst _hoisted_3 = { class: \"mb-5\" }\nconst _hoisted_4 = [\"onKeydown\"]\nconst _hoisted_5 = { key: 0 }\n\nimport Products from '@/components/Products.vue';\nimport { SearchTermBasedProductRecommendationBuilder, ProductRecommendationResponse } from '@relewise/client';\nimport { ref, Ref } from 'vue';\nimport contextStore from '@/stores/context.store';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SearchTermBased',\n  setup(__props) {\n\nconst result: Ref<ProductRecommendationResponse | undefined> = ref<ProductRecommendationResponse | undefined>({} as ProductRecommendationResponse);\nconst searchTerm: Ref<string> = ref<string>('');\nconst usedSearchTerm: Ref<string> = ref<string>('');\n\nconst recommender = contextStore.getRecommender();\n\nasync function search() {\n\n    usedSearchTerm.value = searchTerm.value;\n\n    const request = new SearchTermBasedProductRecommendationBuilder(contextStore.defaultSettings)\n        .setSelectedProductProperties(contextStore.selectedProductProperties)\n        .setTerm(searchTerm.value)\n        .setNumberOfRecommendations(30)\n        .build();\n\n    const response: ProductRecommendationResponse|undefined = await recommender.recommendSearchTermBasedProducts(request);\n    contextStore.assertApiCall(response);\n\n    result.value = response;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((searchTerm).value = $event)),\n        onKeydown: _withKeys(search, [\"enter\"]),\n        placeholder: \"Search Term\"\n      }, null, 40, _hoisted_4), [\n        [_vModelText, searchTerm.value]\n      ])\n    ]),\n    (result.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createVNode(Products, {\n            products: result.value?.recommendations ?? []\n          }, null, 8, [\"products\"])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./SearchTermBased.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SearchTermBased.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["exports","sfc","props","target","__vccOpts","key","val","render","_ctx","_cache","_openBlock","_createElementBlock","xmlns","viewBox","fill","_createElementVNode","d","_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_defineComponent","__name","products","type","Array","setup","__props","context","contextStore","showDetails","ref","toRefs","toggleDetails","product","value","productId","prettyJson","JSON","stringify","undefined","_component_router_link","_resolveComponent","_Fragment","_renderList","_unref","data","imageUrlDataKey","height","width","src","_createCommentVNode","_createTextVNode","_toDisplayString","rank","_createVNode","to","name","query","id","_normalizeClass","displayName","default","_withCtx","_","_createBlock","BarsArrowUpIcon","onClick","$event","BarsArrowDownIcon","salesPrice","listPrice","$format","_Transition","__exports__","result","searchTerm","usedSearchTerm","recommender","async","search","request","SearchTermBasedProductRecommendationBuilder","setSelectedProductProperties","setTerm","setNumberOfRecommendations","build","response","recommendSearchTermBasedProducts","_withDirectives","onKeydown","_withKeys","placeholder","_vModelText","Products","recommendations"],"sourceRoot":""}